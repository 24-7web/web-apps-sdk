<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Documentation Class: File</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.flatly.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Documentation</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="BCAPI.html">BCAPI</a>
						</li>
						
						<li>
							<a href="BCAPI.Config.html">Config</a>
						</li>
						
						<li>
							<a href="BCAPI.Config.Pagination.html">Pagination</a>
						</li>
						
						<li>
							<a href="BCAPI.Helper.html">Helper</a>
						</li>
						
						<li>
							<a href="BCAPI.Helper.Site.html">Site</a>
						</li>
						
						<li>
							<a href="BCAPI.Mocks.html">Mocks</a>
						</li>
						
						<li>
							<a href="BCAPI.Mocks.Helper.html">Helper</a>
						</li>
						
						<li>
							<a href="BCAPI.Mocks.Models.html">Models</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.html">Models</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.FileSystem.html">FileSystem</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.html">WebApp</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="BCAPI.Mocks.Models.PersonCollection.PersonCollection.html">PersonCollection</a>
						</li>
						
						<li>
							<a href="BCAPI.Mocks.Models.PersonModel.html">PersonModel</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.Category.html">Category</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.CategoryCollection.html">CategoryCollection</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.Collection.html">Collection</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.Country.html">Country</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.CountryCollection.html">CountryCollection</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.FileSystem.File.html">File</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.FileSystem.Folder.html">Folder</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.Model.html">Model</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.App.html">App</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.AppCollection.html">AppCollection</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.Country.html">Country</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.CustomField.html">CustomField</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.CustomFieldCollection.html">CustomFieldCollection</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.Item.html">Item</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.ItemCategory.html">ItemCategory</a>
						</li>
						
						<li>
							<a href="BCAPI.Models.WebApp.ItemCollection.html">ItemCollection</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="tutorial-create_image_gallery.html">Create Image Gallery</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
		<div class="span8">
			
				<div id="main">
					


	<h1 class="page-title">Class: File</h1>
<section>

<header>
    <h2>
        <span class="ancestors"><a href="BCAPI.html">BCAPI</a><a href="BCAPI.Models.html">.Models</a><a href="BCAPI.Models.FileSystem.html">.FileSystem</a>.</span>
    
    File
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="File"><span class="type-signature"></span>new File<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This class allows you to interact with files stored in your BC site.
Usage examples:</p>
<h3>Create a new file.</h3>
<pre><code class="lang-javascript">var f = BCAPI.Models.FileSystem.Root.file('hello_world.txt');
var data = 'Hello World !';
f.upload(data).done(function() {
    console.log('File uploaded succesfully');
});</code></pre>
<p>A file is created in your site's file system only after uploading some
content.</p>
<p>The content can be any javascript object, including file objects obtained
from html upload forms.</p>
<p>BCAPI.Models.FileSystem.Root is the root folder in your site's
file structure. You can also create a file object by specifying
the file's full path.</p>
<pre><code class="lang-javascript">var f = new BCAPI.Models.FileSystem.File('/hello_world.txt');</code></pre>
<p>If you omit the <code>/</code> at the beginning it will be added automatically.</p>
<p>So the below is equivalent to the above instantiation:</p>
<pre><code class="lang-javascript">var f = new BCAPI.Models.FileSystem.File('hello_world.txt');</code></pre>
<p>You can also create a file by specifying the name and the parent folder
of the file. The following piece of code creates the file <code>/my/special/file</code>:</p>
<pre><code class="lang-javascript">var f = new BCAPI.Models.FileSystem.File({
    'parent': new BCAPI.Models.FileSystem.Folder('/my/special'),
    'file': 'file'
});

f.upload(files[0]);</code></pre>
<h3>Get the file metadata</h3>
<pre><code class="lang-javascript">var f = BCAPI.Models.FileSystem.Root.file('hello_world.txt');
f.fetch().done(function() {
    console.log('File name is: ', f.get('name'));
    console.log('Last update date is: ', f.get('lastModified'));
});</code></pre>
<h3>Download the file content</h3>
<pre><code class="lang-javascript">var f = BCAPI.Models.FileSystem.Root.file('hello_world.txt');
f.download().done(function(content) {
    console.log('File content is: ' + content);
});</code></pre>
<h3>Rename a file</h3>
<p>Use <code>save</code> to change the name of a file.</p>
<pre><code class="lang-javascript">var f = new BCAPI.Models.FileSystem.File('/my/file');
f.set('name', 'new-file');
f.save().done(function() {
    console.log('File name has been changed. Path is ' + f.get('path'));
    //prints: /my/new-file
});

### Delete the file

```javascript
var f = BCAPI.Models.FileSystem.Root.file('hello_world.txt');
f.destroy().done(function() {
    console.log('File was destroyed');
});</code></pre>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="file_system.js.html">src/file_system.js</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="contentUrl"><span class="type-signature"></span>contentUrl<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the url where the content can be accessed.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="file_system.js.html">src/file_system.js</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>The URL of the resource</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="download"><span class="type-signature"></span>download<span class="signature">()</span><span class="type-signature"> &rarr; {promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Downloads the content of the file</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="file_system.js.html">src/file_system.js</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a promise which will be resolved with
                  the content of the file.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">promise</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="upload"><span class="type-signature"></span>upload<span class="signature">(data)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Uploads a new content for the file. This method can be called if the
file isn't yet created - the file will be created afterwards.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last"><p>the data object which will be the file's content</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="file_system.js.html">src/file_system.js</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a promise that will be completed when the file
                       is uploaded</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">promise</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="uploadAndFetch"><span class="type-signature"></span>uploadAndFetch<span class="signature">(data)</span><span class="type-signature"> &rarr; {promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Uploads new content and fetches the metadata for the file which will then
be used to populate the object. This method can be called even if the
file isn't created yet.
Useful if you want to create a file and retrieve it's metadata resulted
from the new content immediatly.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last"><p>The data object</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="file_system.js.html">src/file_system.js</a>
    </li></ul></dd>
    

    

    

    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>a promise that will be completed when the file
                       is uploaded and the new metadata is retrieved.</p>
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">promise</span>


	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a>
		on Thu Sep 19 2013 10:32:56 GMT+0300 (EEST) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<div class="span3">
				<div id="toc"></div>
			</div>
			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>