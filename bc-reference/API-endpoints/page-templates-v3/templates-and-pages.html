<h1 apiType="restv3">Templates and pages</h1>
<ul id="toc"></ul>
<div id="list">

<h2>Get the list of pages a template is assigned to</h2><div class="description">
<p>Using this method you can get the list of pages that have a specific template assigned.</p>
</div>
<div class="request">
<h3>Request</h3>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Version:</strong> v3, this API call supports <a href="/developers/beta/api-v3-sorting-filtering-and-partial-representation-methods">additional sort and filter mechanisms</a> as well as retrieving only a sub-set of fields<p class="alert alert-info"><strong>Note:</strong> In order to access the v3 API endpoints please make sure you have <a href="/developers#!/beta/introduction-to-liquid!enable" target="_blank">enabled the new rendering engine</a>. </p></li>
<li><strong>Server:</strong>  https://[app key here]-[site_ID here]-apps.worldsecuresystems.com. Take a look at the <a href="/developers/developer-documentation/authorize-your-api-calls">OAuth in Business Catalyst</a> document for more info on how this URL is formed.
  
  <ul>
  <li>Note: When building apps always use relative request URLs. Do not use the "full" URL above because you might have problems running your app on a different site as the site_ID parameter will be different.</li>
</ul></li>
<li><strong>Path:</strong> /webresources/api/v3/sites/current/templates/[template_ID]/pages

  <ul>
<li>Alternatively, use use siteID instead of 'current'</li>
</ul></li>
<li><strong>Authorization header:</strong> This should contain the authorization token. Here is how to <a href="/developers/developer-documentation/authorize-your-api-calls">obtain the token</a>.</li>
<li><strong>Required Permissions:</strong> View Template</li>
</ul>
</div>
<div class="response">
<h3>Response</h3>

<p>An array of templates, each object has the following properties:</p>

<ul>
<li><code>id</code> - the id of the template in the current site <em>(integer)</em></li>
<li><code>siteId</code>- the id of the site <em>(integer)</em></li>
<li><code>url</code>- the id of the site <em>(string)</em></li>
<li><code>name</code>- the id of the site <em>(string)</em></li>
<li><code>categoryId</code> - the ID of the workflow assigned <em>(integer)</em></li>
<li><code>roleId</code> -the ID of the role assigned to the page<em>(integer)</em></li>


<li><code>templateId</code> - the  ID of the template<em>(integer)</em></li>

<li><code>parentId</code> - the ID of the parent element<em> (integer)</em></li>

<li><code>displayFileName</code> - the  name of the file on the filesystem <em>(string)</em></li>

<li><code>size</code> -  <em>(integer)</em></li>
<li><code>enabled</code> - <em>(boolean)</em></li>

<li><code>startPage</code> - <em>(boolean)</em></li>
<li><code>releaseDate </code>- <em>(date)</em> - the date must be in this format - 2014-09-03T07:00:00</li>
<li><code>expiryDate</code> - <em>(date)</em> - the date must be in this format - 2014-09-03T07:00:00</li>
<li><code>excludeFromSearch</code> -  <em>(boolean)</em></li>
<li><code>livePageId</code>- if the page is in draft mode this is the ID of the live page it corresponds to <em>(integer)</em>. 
<p class="alert alert-info">
In the Admin Console the the live and draft versions of a page appear to be one entity. The system however, saves two different pages. One represents the draft version and a completely different page that represents the live version. This parameter is used to &quot;connect&quot; the two pages that basically represent the two states - live and draft.</p>
</li><li><code>content</code> -  <em>(string)</em></li>
<li><code>redirect301</code>-  <em>(string)</em></li>
<li><code>pageTitle</code> -  <em>(string)</em></li>
<li><code>seoMetadataDescription</code> -  <em>(string)</em></li>

</ul>
<p>Accepts and returns JSON as Content-Type.</p>
</div>
<hr>
<div class="request-sample">
<p><strong>Request:</strong></p>

<pre class="language-javascript"><code>GET /webresources/api/v3/sites/current/templates/1386374/pages HTTPS/1.1
Authorization: 14f87f21c5ea4830a06a6314a8aad82b45bc61dc08f24a0fb55599cea83ca811
Connection: keep-alive
Content-Type: application/json
</code></pre>
</div>
<div class="response-sample">
<p><strong>Response:</strong></p>

<pre class="language-javascript"><code>{
  "items": [
    {
      "id": 2567107,
      "siteId": 38581,
      "url": "/secure-client-portal",
      "name": "Secure Client Portal",
      "categoryId": -1,
      "roleId": -1,
      "templateId": 475487,
      "parentId": -1,
      "displayFileName": "Secure Client Portal.htm",
      "size": 762,
      "enabled": true,
      "startPage": false,
      "releaseDate": "2009-06-05T14:58:16.95",
      "expiryDate": "9999-01-01T00:00:00",
      "displayable": true,
      "excludeFromSearch": false,
      "livePageId": null,
      "content": "&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Web page has no content&lt;/body&gt;&lt;/html&gt;",
      "redirect301": null,
      "pageTitle": "Mamaremures",
      "seoMetadataDescription": ""
    },
    {
      "id": 4518276,
      "siteId": 38581,
      "url": "/Maker1",
      "name": "Maker1",
      "categoryId": -1,
      "roleId": -1,
      "templateId": 475487,
      "parentId": -1,
      "displayFileName": "Homes.htm",
      "size": 5327,
      "enabled": false,
      "startPage": false,
      "releaseDate": "2014-07-10T11:53:01.13",
      "expiryDate": "9999-01-01T00:00:00",
      "displayable": false,
      "excludeFromSearch": false,
      "livePageId": null,
      "content": "&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Web page has no content&lt;/body&gt;&lt;/html&gt;",
      "redirect301": null,
      "pageTitle": "",
      "seoMetadataDescription": ""
    }
  ],
  "totalItemsCount": 2,
  "skip": 0,
  "limit": 10
}</code></pre>
</div>
<hr>
<div class="sample">
<h3>Sample code</h3>
<pre class="language-javascript"><code>var request = $.ajax({
url: "/webresources/api/v3/sites/current/templates/1386374/pages",
type: "GET",
conenection: "keep-alive",
contentType: "application/json",
headers: {
"Authorization": $.cookie('access_token')
}
});
request.done(function(msg) {
console.log(msg);
})
request.fail(function(jqXHR) {
console.log("Request failed.");
console.log("Error code: " + jqXHR.status);
console.log("Error text: " + jqXHR.statusText);
console.log("Response text: " + jqXHR.responseText);
})</code></pre>

</div>
<hr></div>