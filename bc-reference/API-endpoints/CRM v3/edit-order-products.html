
<h1>Add products to an order</h1>
<div class="description">Add new products to an order or updates the number of units.</div>
<div class="request">
<h3>Request</h3>
<ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Version:</strong> v3</li><li><strong>Server:</strong>  https://[app key here]-[site_ID here]-apps.worldsecuresystems.com. Take a look at the <a href="/developers/developer-documentation/authorize-your-api-calls">OAuth in Business Catalyst</a> document for more info on how this URL is formed.

<ul>
<li>Note: When building apps always use relative request URLs. Do not use the "full" URL above because you might have problems running your app on a different site as the site_ID parameter will be different.</li>
</ul></li>
<li><strong>Path:</strong> /webresources/api/v3/sites/current/orders/[ORDER_ID]/products
  <ul>
  <li>Alternatively, use use siteID instead of 'current'</li>
</ul>
</li>
<li><strong>Authorization header:</strong> This should contain the authorization token. Here is how to <a href="/developers/developer-documentation/authorize-your-api-calls">obtain the token</a>.</li>
</ul>
<h4>Parameters</h4>
<ul>
  <li><code>itemId</code> - the item's ID, this is used to identify this particular order item. For example if you need to delete an element from an order you would reffer it using this ID<em>(integer)</em></li>
  <li><code>orderId</code> - the order's ID <em>(integer)</em></li>
  <li><code>productId</code> - the address ID <em>(integer)</em></li>
  <li><code>siteId</code> - <em>the site's ID (integer)</em></li>
  <li><code>catalogueId</code> - the product's catalog ID <em>(integer)</em> </li>
  <li><code>units</code> - the number of units added to the order <em>(integer)</em></li>
  <li><code>unitPrice</code> - price per unit<em> (integer)</em></li>
  <li><code>unitTaxRate</code> - the tax per unit <em>(integer)</em></li>
  <li><code>discountRate</code> - <em>(integer)</em></li>
  <li><code>totalPrice</code> - <em>(integer)</em></li>
  <li><code>description</code> - <em>(string)</em></li>
  <li><code>supplierCommission</code>- <em>(integer)</em></li>
  <li><code>deleted</code> - <em>(boolean)</em></li>
  <li><code>attributeExtras</code> - <em>(integer)</em></li>
  <li><code>variationId</code> - <em>(integer)</em></li>

</ul>
</div>
<div class="response">
<h3>Response</h3>

<p>Returns an empty body if successful or a detailed error message.</p>
<p>Accepts and returns JSON as Content-Type.</p>
</div>
<div class="request">
<hr>
<div class="request-sample">
<p><strong>Request:</strong></p>

<pre class="language-javascript"><code>POST /webresources/api/v3/sites/current/orders/108293/products HTTPS/1.1
Authorization: 14f87f21c5ea4830a06a6314a8aad82b45bc61dc08f24a0fb55599cea83ca811
Connection: keep-alive
Content-Type: application/json


{
  "items": [
    {
      "productId": 951917,
      "variationId": 9,
      "units": 3,
      "description": "Tailored for you!"
    }
  ]
}</code></pre>
</div>
<div class="response-sample">
<p><strong>Response:</strong></p>

<pre class="language-javascript"><code>
HTTP/1.1 204 NO CONTENT
Location: /webresources/api/v3/sites/current/orders
Content-Type: application/json; charset=utf-8
Content-Length: length</code></pre>


</div>
<hr>
<div class="sample">
<h3>Sample codes</h3>
<p>Add a product to an existing order. If the &quot;units&quot; field is not present only 1 item will be added.</p>
<pre class="language-javascript"><code>var request = $.ajax({
url: "/webresources/api/v3/sites/current/orders/108293/products",
type: "PUT",
conenection: "keep-alive",
contentType: "application/json",
headers: {
    "Authorization": $.cookie('access_token')
},
processData: false,
data: JSON.stringify({
   "items": [
    {
      "productId": 951890
    }
  ]
  })
});
request.done(function(msg) {
console.log(msg);
})
request.fail(function(jqXHR) {
console.log("Request failed.");
console.log("Error code: " + jqXHR.status);
console.log("Error text: " + jqXHR.statusText);
console.log("Response text: " + jqXHR.responseText);
})</code></pre>
<p>In this example we will add 3 units of the product with the ID 951917 and variation code 9 to the order:</p>
<pre class="language-javascript"><code>var request = $.ajax({
url: "/webresources/api/v3/sites/current/orders/108293/products",
type: "PUT",
conenection: "keep-alive",
contentType: "application/json",
headers: {
    "Authorization": $.cookie('access_token')
},
processData: false,
data: JSON.stringify({
   "items": [
    {
      "productId": 951917,
      "variationId": 9,
      "units": 3,
      "description": "Tailored for you!"
    }
  ]
  })
});
request.done(function(msg) {
console.log(msg);
})
request.fail(function(jqXHR) {
console.log("Request failed.");
console.log("Error code: " + jqXHR.status);
console.log("Error text: " + jqXHR.statusText);
console.log("Response text: " + jqXHR.responseText);
})</code></pre>
</div>
<hr>
<div class="error nocontent" style="display:none;">
<h3>Error Codes</h3>

<p>This method will return the following error codes:</p>
<ul>
<li><code>200</code> - success</li>
<li><code>401</code> - unauthorized - when the Authorization header is not present, or contains an invalid site token.
<ul>
<li><code>101000</code> sub-error code</li>
</ul></li>
<li><code>403</code> - forbidden : this is returned when the user trying to access the API does not have the proper permissions</li>
</ul>
</div>

        